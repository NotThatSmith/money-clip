!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.moneyClip={})}(this,function(n){var e=require("./idb-keyval"),t={maxAge:Infinity,version:0,lib:e},r=function(n){return Object.assign({},t,n)},i=function(n,e,t){var i=r(e),u=i.maxAge,o=i.version,c=i.lib;return c.get(n,t).then(JSON.parse).then(function(e){return Date.now()-e.time>u||o!==e.version?(c.del(n,t),null):e.data}).catch(function(){return null})},u=function(n,e,t,i){var u=r(t);return u.lib.set(n,JSON.stringify({version:u.version,time:Date.now(),data:e}),i).catch(function(){return null})},o=function(n,e){var t,u=r(n);return u.lib.keys(e).then(function(n){return t=n,Promise.all(t.map(function(n){return i(n,u,e)}))}).then(function(n){return n.reduce(function(n,e,r){return e&&(n[t[r]]=e),n},{})}).catch(function(){})};n.del=e.del,n.get=i,n.set=u,n.getAll=o,n.getConfiguredCache=function(n){var t,c=r(n);return c.name&&(t=new e.Store(c.name,c.name)),{get:function(n){return i(n,c,t)},set:function(n,e){return u(n,e,c,t)},getAll:function(){return o(c,t)},del:function(){return c.lib.del(t)},clear:function(){return c.lib.clear(t)},keys:function(){return c.lib.keys(t)}}}});
//# sourceMappingURL=money-clip.umd.js.map
